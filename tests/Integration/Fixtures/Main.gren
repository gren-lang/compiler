module Main exposing (main)

import Init
import Node exposing (Environment)
import Stream
import Task


main : Node.SimpleProgram a
main =
    Node.defineSimpleProgram init


init : Environment -> Init.Task (Cmd a)
init env =
    Stream.writeLineAsBytes "Hello, World!" env.stdout
        |> Task.onError (\_ -> Task.succeed env.stdout)
        |> Node.endSimpleProgram